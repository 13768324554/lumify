<html>
<head>
  <script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
</head>
<body>
  <script type="text/javascript">
    if (!chrome.cast || !chrome.cast.isAvailable) {
      setTimeout(initializeCastApi, 1000);
    }

    function initializeCastApi() {
      //var sessionRequest = new chrome.cast.SessionRequest(chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID);
      var sessionRequest = new chrome.cast.SessionRequest("C8281CA0");
      var apiConfig = new chrome.cast.ApiConfig(sessionRequest, sessionListener, receiverListener);
      chrome.cast.initialize(apiConfig, onInitSuccess, onError);
    }

    function receiverListener(e) {
      console.log('receiverListener', arguments);
      if( e === 'available' ) {
      }
    }

    function onRequestSessionSuccess() {
      console.log('onRequestSessionSuccess', arguments);
    }
    
    function onLaunchError() {
      console.log('onLaunchError', arguments);
    }

    function sessionListener(e) {
      console.log('sessionListener', arguments);
    }

    function onInitSuccess() {
      console.log('onInitSuccess', arguments);
    }

    function onError() {
      console.log('onError', arguments);
    }
  </script>
</body>
</html>
